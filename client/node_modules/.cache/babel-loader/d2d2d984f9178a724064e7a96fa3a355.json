{"ast":null,"code":"import { GET_BOOKING, GET_TIMESLOT, SAVE_BOOKING, REMOVE_BOOKING } from \"./actionTypes\";\nimport axios from \"axios\";\nimport { setAlert } from './alertAction';\nexport const getBooking = () => async dispatch => {\n  try {\n    const res = await axios.get(\"/api/booking/mybooking\");\n    dispatch({\n      type: GET_BOOKING,\n      payload: res.data\n    });\n  } catch (err) {\n    console.log(err.message);\n    const errors = err.response.data;\n    if (errors) errors.forEach(error => dispatch(setAlert(error.msg, \"danger\")));\n  }\n};\nexport const getTimeslot = (day, from, to) => dispatch => {\n  dispatch({\n    type: GET_TIMESLOT,\n    payload: {\n      day,\n      from,\n      to\n    }\n  });\n};\nexport const saveBooking = ({\n  from,\n  to,\n  day,\n  id\n}) => async dispatch => {\n  const config = {\n    headers: {\n      \"Content-Type\": \"application/json\"\n    }\n  };\n  const body = {\n    from,\n    to,\n    day\n  };\n\n  try {\n    const res = await axios.post(`/api/booking/${id}`, body, config);\n  } catch (err) {\n    console.log(err.message);\n    const errors = err.response.data;\n    if (errors) errors.forEach(error => dispatch(setAlert(error.msg, \"danger\")));\n  }\n};","map":{"version":3,"sources":["C:/Users/Walid klai/desktop/STADIUMBOOK/client/src/redux/actions/bookingAction.js"],"names":["GET_BOOKING","GET_TIMESLOT","SAVE_BOOKING","REMOVE_BOOKING","axios","setAlert","getBooking","dispatch","res","get","type","payload","data","err","console","log","message","errors","response","forEach","error","msg","getTimeslot","day","from","to","saveBooking","id","config","headers","body","post"],"mappings":"AAAA,SACEA,WADF,EAEEC,YAFF,EAGEC,YAHF,EAIEC,cAJF,QAKO,eALP;AAMA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,QAAR,QAAuB,eAAvB;AAEA,OAAO,MAAMC,UAAU,GAAG,MAAM,MAAOC,QAAP,IAAoB;AAClD,MAAI;AACF,UAAMC,GAAG,GAAG,MAAMJ,KAAK,CAACK,GAAN,CAAU,wBAAV,CAAlB;AACAF,IAAAA,QAAQ,CAAC;AACPG,MAAAA,IAAI,EAAEV,WADC;AAEPW,MAAAA,OAAO,EAAEH,GAAG,CAACI;AAFN,KAAD,CAAR;AAID,GAND,CAME,OAAOC,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,OAAhB;AACA,UAAMC,MAAM,GAAGJ,GAAG,CAACK,QAAJ,CAAaN,IAA5B;AACA,QAAIK,MAAJ,EACEA,MAAM,CAACE,OAAP,CAAgBC,KAAD,IAAWb,QAAQ,CAACF,QAAQ,CAACe,KAAK,CAACC,GAAP,EAAY,QAAZ,CAAT,CAAlC;AACH;AACF,CAbM;AAeP,OAAO,MAAMC,WAAW,GAAG,CAACC,GAAD,EAAMC,IAAN,EAAYC,EAAZ,KAAoBlB,QAAD,IAAc;AAC1DA,EAAAA,QAAQ,CAAC;AACPG,IAAAA,IAAI,EAAET,YADC;AAEPU,IAAAA,OAAO,EAAE;AACPY,MAAAA,GADO;AAEPC,MAAAA,IAFO;AAGPC,MAAAA;AAHO;AAFF,GAAD,CAAR;AAQD,CATM;AAWP,OAAO,MAAMC,WAAW,GAAG,CAAC;AAAEF,EAAAA,IAAF;AAAOC,EAAAA,EAAP;AAAUF,EAAAA,GAAV;AAAcI,EAAAA;AAAd,CAAD,KAAwB,MAAOpB,QAAP,IAAoB;AACrE,QAAMqB,MAAM,GAAG;AACbC,IAAAA,OAAO,EAAE;AACP,sBAAgB;AADT;AADI,GAAf;AAMA,QAAMC,IAAI,GAAG;AACXN,IAAAA,IADW;AAEXC,IAAAA,EAFW;AAGXF,IAAAA;AAHW,GAAb;;AAMA,MAAI;AACF,UAAMf,GAAG,GAAG,MAAMJ,KAAK,CAAC2B,IAAN,CAAY,gBAAeJ,EAAG,EAA9B,EAAiCG,IAAjC,EAAuCF,MAAvC,CAAlB;AACD,GAFD,CAEE,OAAOf,GAAP,EAAY;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,OAAhB;AACA,UAAMC,MAAM,GAAGJ,GAAG,CAACK,QAAJ,CAAaN,IAA5B;AACA,QAAIK,MAAJ,EACEA,MAAM,CAACE,OAAP,CAAgBC,KAAD,IAAWb,QAAQ,CAACF,QAAQ,CAACe,KAAK,CAACC,GAAP,EAAY,QAAZ,CAAT,CAAlC;AACH;AACF,CArBM","sourcesContent":["import {\r\n  GET_BOOKING,\r\n  GET_TIMESLOT,\r\n  SAVE_BOOKING,\r\n  REMOVE_BOOKING,\r\n} from \"./actionTypes\";\r\nimport axios from \"axios\";\r\nimport {setAlert} from './alertAction'\r\n\r\nexport const getBooking = () => async (dispatch) => {\r\n  try {\r\n    const res = await axios.get(\"/api/booking/mybooking\");\r\n    dispatch({\r\n      type: GET_BOOKING,\r\n      payload: res.data,\r\n    });\r\n  } catch (err) {\r\n    console.log(err.message);\r\n    const errors = err.response.data;\r\n    if (errors)\r\n      errors.forEach((error) => dispatch(setAlert(error.msg, \"danger\")));\r\n  }\r\n};\r\n\r\nexport const getTimeslot = (day, from, to) => (dispatch) => {\r\n  dispatch({\r\n    type: GET_TIMESLOT,\r\n    payload: {\r\n      day,\r\n      from,\r\n      to,\r\n    },\r\n  });\r\n};\r\n\r\nexport const saveBooking = ({ from,to,day,id }) => async (dispatch) => {\r\n  const config = {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  };\r\n\r\n  const body = {\r\n    from,\r\n    to,\r\n    day\r\n  };\r\n\r\n  try {\r\n    const res = await axios.post(`/api/booking/${id}`, body, config);\r\n  } catch (err) {\r\n    console.log(err.message);\r\n    const errors = err.response.data;\r\n    if (errors)\r\n      errors.forEach((error) => dispatch(setAlert(error.msg, \"danger\")));\r\n  }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}